App.js

import React from 'react'
import Product from './components/Product'
// import ProductForm from './components/ProductForm'

function App() {
  return (
    <div>
    <Product />  
      
       {/* <ProductForm /> */}
    </div>
  );
}

export default App;


Product.js

import React, { useState, useEffect } from 'react'
import axios from 'axios'

function Product(){
    const [ products, setProducts] = useState([])
    const [ errorMsg , setError ] = useState('')

    useEffect(() => {
        axios.get('https://dev.insee.com/mds/products/admin/getAllProductGroup')
        .then(response => {
            console.log(response);
            setProducts(response.data.data)
            
        })
        .catch(error => {
            console.log(error);
            setError({errorMsg: 'error in retrieving data'})
        })
    },[])
    
    return <div>
        List of products
    {
        products.length ? products.map((product,index) => <div key={index}>{product.Product_Group_Name}</div>) : null
    }
    { errorMsg ? <div>{errorMsg}</div> : null } 
                 </div>
            
        }
    
    
    
    export default Product

ProductForm.js

import React, { useState } from 'react'
import axios from 'axios'


function ProductForm() {
    const [Product_Group_Name, setProduct_Group_Name] = useState('')
    const [status, setStatus] = useState('') 
   const  productHandler =(e) => {
        setProduct_Group_Name( e.target.value )
          }

          const  statusHandler =(e) => {
            setStatus( e.target.value )
              }
        const submitHandler = (e) => {
                e.preventDefault()
            console.log(Product_Group_Name);
            let obj ={"productGroup":[
                {"Product_Group_Name":Product_Group_Name, "Status":status}
            ]}

                axios.post('https://dev.insee.com/mds/products/admin/addProductGroup', obj)
                .then(response => {
                    console.log(response);
                })
                .catch(error => {
                    console.log(error);
                })
                    }
                     return (
          <div>
                    <form onSubmit={submitHandler}>
                         <div>
                            <input type='text' name='Product_Group_Name' value={Product_Group_Name} onChange={productHandler}></input>
                         </div>
        
                         <div>
                               <input type='text' name='status' value={status} onChange={statusHandler}></input>
                           </div>
        
                            
       <button type='submit'>Submit</button>
        
                     </form>
                 </div>
              )
           }
        
        



export default ProductForm


